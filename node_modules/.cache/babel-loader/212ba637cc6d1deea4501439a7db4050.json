{"remainingRequest":"/Users/anastasia/Desktop/emailMeter/node_modules/babel-loader/lib/index.js!/Users/anastasia/Desktop/emailMeter/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anastasia/Desktop/emailMeter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Desktop/emailMeter/src/views/ranking/Ranking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anastasia/Desktop/emailMeter/src/views/ranking/Ranking.vue","mtime":1645809466235},{"path":"/Users/anastasia/Desktop/emailMeter/babel.config.js","mtime":1645352672000},{"path":"/Users/anastasia/Desktop/emailMeter/node_modules/cache-loader/dist/cjs.js","mtime":1645635885110},{"path":"/Users/anastasia/Desktop/emailMeter/node_modules/babel-loader/lib/index.js","mtime":1645635886032},{"path":"/Users/anastasia/Desktop/emailMeter/node_modules/cache-loader/dist/cjs.js","mtime":1645635885110},{"path":"/Users/anastasia/Desktop/emailMeter/node_modules/vue-loader/lib/index.js","mtime":1645635886326}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbmFzdGFzaWEvRGVza3RvcC9lbWFpbE1ldGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRVc2VycyB9IGZyb20gIkAvc2VydmljZXMvU3RlcHNNZXRlclNlcnZpY2UiOwppbXBvcnQgUmFua2luZ1RhYmxlIGZyb20gIkAvdmlld3MvcmFua2luZy9jb21wb25lbnRzL1JhbmtpbmdUYWJsZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IEZvb3RlciBmcm9tICJAL2NvbXBvbmVudHMvRm9vdGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSYW5raW5nIiwKICBjb21wb25lbnRzOiB7CiAgICBSYW5raW5nVGFibGU6IFJhbmtpbmdUYWJsZSwKICAgIEZvb3RlcjogRm9vdGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcnM6IFtdLAogICAgICB0b2RheTogbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgIHllc3RlcmRheTogbW9tZW50KCkuc3VidHJhY3QoMSwgJ2RheXMnKS5mb3JtYXQoIllZWVktTU0tREQiKSwKICAgICAgd2Vla0FnbzogbW9tZW50KCkuc3VidHJhY3QoMSwgJ3dlZWtzJykuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgIG1vbnRoQWdvOiBtb21lbnQoKS5zdWJ0cmFjdCgxLCAnbW9udGgnKS5mb3JtYXQoIllZWVktTU0tREQiKQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYWlseSwgd2Vla2x5LCBtb250aGx5OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJzKF90aGlzLnllc3RlcmRheSwgX3RoaXMueWVzdGVyZGF5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGFpbHkgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMudXNlcnMgPSBkYWlseS5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGVsLmlkLAogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBlbC51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICBkYWlseTogZWxbJ2F2Z19zdGVwcyddCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJzKF90aGlzLndlZWtBZ28sIF90aGlzLnRvZGF5KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgd2Vla2x5ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHdlZWtseS5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaWR4KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy51c2Vyc1tpZHhdLndlZWtseSA9IGVsWydhdmdfc3RlcHMnXTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJzKF90aGlzLm1vbnRoQWdvLCBfdGhpcy50b2RheSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBtb250aGx5ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIG1vbnRobHkuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGlkeCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudXNlcnNbaWR4XS5tb250aGx5ID0gZWxbJ2F2Z19zdGVwcyddOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VycyA9IF90aGlzLnVzZXJzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGJbJ21vbnRobHknXSAtIGFbJ21vbnRobHknXTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AAGA;AACAA,iBADA;AAEAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,eADA;AAEAC,0CAFA;AAGAC,kEAHA;AAIAC,iEAJA;AAKAC;AALA;AAOA,GAXA;AAYAC,SAZA,qBAYA;AACA;AACA,GAdA;AAeAC;AAEAC,WAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACAC,0CADA;;AAAA;AACAC,qBADA;AAEA;AACA;AAAAC;AAAAC;AAAAF;AAAA;AACA,iBAFA;AAFA;AAAA,uBAMAD,oCANA;;AAAA;AAMAI,sBANA;AAOAA;AAAA;AAAA;AAPA;AAAA,uBASAJ,qCATA;;AAAA;AASAK,uBATA;AAUAA;AAAA;AAAA;AACA;AAAA;AAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAfA;AAfA","names":["name","components","RankingTable","Footer","data","users","today","yesterday","weekAgo","monthAgo","mounted","methods","getData","getUsers","daily","id","username","weekly","monthly"],"sourceRoot":"src/views/ranking","sources":["Ranking.vue"],"sourcesContent":["<template>\n  <div class=\"ranking\">\n    <div class=\"md:flex justify-between md:h-96 sm:px-36\">\n      <div class=\"w-full md:w-2/5  py-4 md:py-24 \"><img src=\"../../assets/img/logo.png\"\n                                                       class=\"max-w-4/5 mx-auto max-h-32  md:max-h-48\" alt=\"Logo\"></div>\n      <div class=\"w-full md:w-3/5 my-auto px-4\">\n        <p class=\"text-lg md:text-3xl lg:text-5xl sm:right-0.5\"> Welcome to Daily Steps Ranking.</p>\n        <p class=\"text-xs md:text-xl lg:text-2xl uppercase text-gray-400 md:uppercase mt-2 md:mt-4 md:ml-2 md:ml-10\"> Every step counts. create your healthy future.</p>\n      </div>\n    </div>\n    <RankingTable  class=\"mt-4\" :tableData=\"users\"/>\n     <Footer/>\n  </div>\n</template>\n<script>\nimport {getUsers} from \"@/services/StepsMeterService\";\nimport RankingTable from \"@/views/ranking/components/RankingTable\";\nimport moment from \"moment\";\nimport Footer from \"@/components/Footer\";\n\n\nexport default {\n  name: \"Ranking\",\n  components: {RankingTable,Footer},\n  data() {\n    return {\n      users: [],\n      today: moment().format(\"YYYY-MM-DD\"),\n      yesterday: moment().subtract(1, 'days').format(\"YYYY-MM-DD\"),\n      weekAgo: moment().subtract(1, 'weeks').format(\"YYYY-MM-DD\"),\n      monthAgo: moment().subtract(1, 'month').format(\"YYYY-MM-DD\"),\n    }\n  },\n  mounted() {\n    this.getData();\n  },\n  methods: {\n\n    async getData() {\n      const daily = await getUsers(this.yesterday, this.yesterday);\n      this.users = daily.map(el => {\n        return {id: el.id, username: el.username, daily: el['avg_steps']}\n      })\n\n      const weekly = await getUsers(this.weekAgo, this.today);\n      weekly.forEach((el, idx) => this.users[idx].weekly = el['avg_steps'])\n\n      const monthly = await getUsers(this.monthAgo, this.today);\n      monthly.forEach((el, idx) => this.users[idx].monthly = el['avg_steps'])\n      this.users = this.users.sort((a, b) => b['monthly'] - a['monthly'])\n\n    }\n  }\n}\n</script>\n"]}]}