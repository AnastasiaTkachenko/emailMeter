{"remainingRequest":"/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/node_modules/babel-loader/lib/index.js!/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/src/views/ranking/Ranking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/src/views/ranking/Ranking.vue","mtime":1645809466235},{"path":"/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/babel.config.js","mtime":1645352672000},{"path":"/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/node_modules/cache-loader/dist/cjs.js","mtime":1645635885110},{"path":"/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/node_modules/babel-loader/lib/index.js","mtime":1645635886032},{"path":"/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/node_modules/cache-loader/dist/cjs.js","mtime":1645635885110},{"path":"/Users/anastasia/Desktop/web проекты с моего сайта/emailMeter/node_modules/vue-loader/lib/index.js","mtime":1645635886326}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbmFzdGFzaWEvRGVza3RvcC93ZWIgXHUwNDNGXHUwNDQwXHUwNDNFXHUwNDM1XHUwNDNBXHUwNDQyXHUwNDRCIFx1MDQ0MSBcdTA0M0NcdTA0M0VcdTA0MzVcdTA0MzNcdTA0M0UgXHUwNDQxXHUwNDMwXHUwNDM4XHUwMzA2XHUwNDQyXHUwNDMwL2VtYWlsTWV0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFVzZXJzIH0gZnJvbSAiQC9zZXJ2aWNlcy9TdGVwc01ldGVyU2VydmljZSI7CmltcG9ydCBSYW5raW5nVGFibGUgZnJvbSAiQC92aWV3cy9yYW5raW5nL2NvbXBvbmVudHMvUmFua2luZ1RhYmxlIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvY29tcG9uZW50cy9Gb290ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJhbmtpbmciLAogIGNvbXBvbmVudHM6IHsKICAgIFJhbmtpbmdUYWJsZTogUmFua2luZ1RhYmxlLAogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyczogW10sCiAgICAgIHRvZGF5OiBtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKSwKICAgICAgeWVzdGVyZGF5OiBtb21lbnQoKS5zdWJ0cmFjdCgxLCAnZGF5cycpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLAogICAgICB3ZWVrQWdvOiBtb21lbnQoKS5zdWJ0cmFjdCgxLCAnd2Vla3MnKS5mb3JtYXQoIllZWVktTU0tREQiKSwKICAgICAgbW9udGhBZ286IG1vbWVudCgpLnN1YnRyYWN0KDEsICdtb250aCcpLmZvcm1hdCgiWVlZWS1NTS1ERCIpCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhaWx5LCB3ZWVrbHksIG1vbnRobHk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VXNlcnMoX3RoaXMueWVzdGVyZGF5LCBfdGhpcy55ZXN0ZXJkYXkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYWlseSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VycyA9IGRhaWx5Lm1hcChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBpZDogZWwuaWQsCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IGVsLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIGRhaWx5OiBlbFsnYXZnX3N0ZXBzJ10KICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VXNlcnMoX3RoaXMud2Vla0FnbywgX3RoaXMudG9kYXkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB3ZWVrbHkgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgd2Vla2x5LmZvckVhY2goZnVuY3Rpb24gKGVsLCBpZHgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVzZXJzW2lkeF0ud2Vla2x5ID0gZWxbJ2F2Z19zdGVwcyddOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VXNlcnMoX3RoaXMubW9udGhBZ28sIF90aGlzLnRvZGF5KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIG1vbnRobHkgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgbW9udGhseS5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaWR4KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy51c2Vyc1tpZHhdLm1vbnRobHkgPSBlbFsnYXZnX3N0ZXBzJ107CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJzID0gX3RoaXMudXNlcnMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICByZXR1cm4gYlsnbW9udGhseSddIC0gYVsnbW9udGhseSddOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AAGA;AACAA,iBADA;AAEAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,eADA;AAEAC,0CAFA;AAGAC,kEAHA;AAIAC,iEAJA;AAKAC;AALA;AAOA,GAXA;AAYAC,SAZA,qBAYA;AACA;AACA,GAdA;AAeAC;AAEAC,WAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACAC,0CADA;;AAAA;AACAC,qBADA;AAEA;AACA;AAAAC;AAAAC;AAAAF;AAAA;AACA,iBAFA;AAFA;AAAA,uBAMAD,oCANA;;AAAA;AAMAI,sBANA;AAOAA;AAAA;AAAA;AAPA;AAAA,uBASAJ,qCATA;;AAAA;AASAK,uBATA;AAUAA;AAAA;AAAA;AACA;AAAA;AAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAfA;AAfA","names":["name","components","RankingTable","Footer","data","users","today","yesterday","weekAgo","monthAgo","mounted","methods","getData","getUsers","daily","id","username","weekly","monthly"],"sourceRoot":"src/views/ranking","sources":["Ranking.vue"],"sourcesContent":["<template>\n  <div class=\"ranking\">\n    <div class=\"md:flex justify-between md:h-96 sm:px-36\">\n      <div class=\"w-full md:w-2/5  py-4 md:py-24 \"><img src=\"../../assets/img/logo.png\"\n                                                       class=\"max-w-4/5 mx-auto max-h-32  md:max-h-48\" alt=\"Logo\"></div>\n      <div class=\"w-full md:w-3/5 my-auto px-4\">\n        <p class=\"text-lg md:text-3xl lg:text-5xl sm:right-0.5\"> Welcome to Daily Steps Ranking.</p>\n        <p class=\"text-xs md:text-xl lg:text-2xl uppercase text-gray-400 md:uppercase mt-2 md:mt-4 md:ml-2 md:ml-10\"> Every step counts. create your healthy future.</p>\n      </div>\n    </div>\n    <RankingTable  class=\"mt-4\" :tableData=\"users\"/>\n     <Footer/>\n  </div>\n</template>\n<script>\nimport {getUsers} from \"@/services/StepsMeterService\";\nimport RankingTable from \"@/views/ranking/components/RankingTable\";\nimport moment from \"moment\";\nimport Footer from \"@/components/Footer\";\n\n\nexport default {\n  name: \"Ranking\",\n  components: {RankingTable,Footer},\n  data() {\n    return {\n      users: [],\n      today: moment().format(\"YYYY-MM-DD\"),\n      yesterday: moment().subtract(1, 'days').format(\"YYYY-MM-DD\"),\n      weekAgo: moment().subtract(1, 'weeks').format(\"YYYY-MM-DD\"),\n      monthAgo: moment().subtract(1, 'month').format(\"YYYY-MM-DD\"),\n    }\n  },\n  mounted() {\n    this.getData();\n  },\n  methods: {\n\n    async getData() {\n      const daily = await getUsers(this.yesterday, this.yesterday);\n      this.users = daily.map(el => {\n        return {id: el.id, username: el.username, daily: el['avg_steps']}\n      })\n\n      const weekly = await getUsers(this.weekAgo, this.today);\n      weekly.forEach((el, idx) => this.users[idx].weekly = el['avg_steps'])\n\n      const monthly = await getUsers(this.monthAgo, this.today);\n      monthly.forEach((el, idx) => this.users[idx].monthly = el['avg_steps'])\n      this.users = this.users.sort((a, b) => b['monthly'] - a['monthly'])\n\n    }\n  }\n}\n</script>\n"]}]}